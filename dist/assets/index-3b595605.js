(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function P(){}function je(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function ve(t){return t()}function fe(){return Object.create(null)}function V(t){t.forEach(ve)}function ke(t){return typeof t=="function"}function $(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Oe(t){return Object.keys(t).length===0}function b(t,e){t.appendChild(e)}function j(t,e,n){t.insertBefore(e,n||null)}function N(t){t.parentNode&&t.parentNode.removeChild(t)}function ye(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function k(t){return document.createElement(t)}function Le(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function J(t){return document.createTextNode(t)}function K(){return J(" ")}function Ae(){return J("")}function B(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function v(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Se(t){return Array.from(t.childNodes)}function x(t,e){e=""+e,t.data!==e&&(t.data=e)}function ae(t,e){t.value=e??""}function de(t,e,n){for(let l=0;l<t.options.length;l+=1){const r=t.options[l];if(r.__value===e){r.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function Te(t){const e=t.querySelector(":checked");return e&&e.__value}function F(t,e,n){t.classList[n?"add":"remove"](e)}class Ce{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,l=null){this.e||(this.is_svg?this.e=Le(n.nodeName):this.e=k(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(l)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)j(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(N)}}let X;function I(t){X=t}function Pe(){if(!X)throw new Error("Function called outside component initialization");return X}const G=[],se=[];let Q=[];const oe=[],Me=Promise.resolve();let ie=!1;function Je(){ie||(ie=!0,Me.then(ue))}function Z(t){Q.push(t)}function Ke(t){oe.push(t)}const re=new Set;let D=0;function ue(){if(D!==0)return;const t=X;do{try{for(;D<G.length;){const e=G[D];D++,I(e),Be(e.$$)}}catch(e){throw G.length=0,D=0,e}for(I(null),G.length=0,D=0;se.length;)se.pop()();for(let e=0;e<Q.length;e+=1){const n=Q[e];re.has(n)||(re.add(n),n())}Q.length=0}while(G.length);for(;oe.length;)oe.pop()();ie=!1,re.clear(),I(t)}function Be(t){if(t.fragment!==null){t.update(),V(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Z)}}function He(t){const e=[],n=[];Q.forEach(l=>t.indexOf(l)===-1?e.push(l):n.push(l)),n.forEach(l=>l()),Q=e}const Y=new Set;let U;function we(){U={r:0,c:[],p:U}}function Ee(){U.r||V(U.c),U=U.p}function R(t,e){t&&t.i&&(Y.delete(t),t.i(e))}function W(t,e,n,l){if(t&&t.o){if(Y.has(t))return;Y.add(t),U.c.push(()=>{Y.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}else l&&l()}function qe(t,e){const n=e.token={};function l(r,s,i,o){if(e.token!==n)return;e.resolved=o;let f=e.ctx;i!==void 0&&(f=f.slice(),f[i]=o);const a=r&&(e.current=r)(f);let h=!1;e.block&&(e.blocks?e.blocks.forEach((u,d)=>{d!==s&&u&&(we(),W(u,1,1,()=>{e.blocks[d]===u&&(e.blocks[d]=null)}),Ee())}):e.block.d(1),a.c(),R(a,1),a.m(e.mount(),e.anchor),h=!0),e.block=a,e.blocks&&(e.blocks[s]=a),h&&ue()}if(je(t)){const r=Pe();if(t.then(s=>{I(r),l(e.then,1,e.value,s),I(null)},s=>{if(I(r),l(e.catch,2,e.error,s),I(null),!e.hasCatch)throw s}),e.current!==e.pending)return l(e.pending,0),!0}else{if(e.current!==e.then)return l(e.then,1,e.value,t),!0;e.resolved=t}}function Ie(t,e,n){const l=e.slice(),{resolved:r}=t;t.current===t.then&&(l[t.value]=r),t.current===t.catch&&(l[t.error]=r),t.block.p(l,n)}function Re(t,e,n){const l=t.$$.props[e];l!==void 0&&(t.$$.bound[l]=n,n(t.$$.ctx[l]))}function ce(t){t&&t.c()}function ee(t,e,n,l){const{fragment:r,after_update:s}=t.$$;r&&r.m(e,n),l||Z(()=>{const i=t.$$.on_mount.map(ve).filter(ke);t.$$.on_destroy?t.$$.on_destroy.push(...i):V(i),t.$$.on_mount=[]}),s.forEach(Z)}function te(t,e){const n=t.$$;n.fragment!==null&&(He(n.after_update),V(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Ve(t,e){t.$$.dirty[0]===-1&&(G.push(t),Je(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ne(t,e,n,l,r,s,i,o=[-1]){const f=X;I(t);const a=t.$$={fragment:null,ctx:[],props:s,update:P,not_equal:r,bound:fe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:fe(),dirty:o,skip_bound:!1,root:e.target||f.$$.root};i&&i(a.root);let h=!1;if(a.ctx=n?n(t,e.props||{},(u,d,...p)=>{const A=p.length?p[0]:d;return a.ctx&&r(a.ctx[u],a.ctx[u]=A)&&(!a.skip_bound&&a.bound[u]&&a.bound[u](A),h&&Ve(t,u)),d}):[],a.update(),h=!0,V(a.before_update),a.fragment=l?l(a.ctx):!1,e.target){if(e.hydrate){const u=Se(e.target);a.fragment&&a.fragment.l(u),u.forEach(N)}else a.fragment&&a.fragment.c();e.intro&&R(t.$$.fragment),ee(t,e.target,e.anchor,e.customElement),ue()}I(f)}class le{$destroy(){te(this,1),this.$destroy=P}$on(e,n){if(!ke(n))return P;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const r=l.indexOf(n);r!==-1&&l.splice(r,1)}}$set(e){this.$$set&&!Oe(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ne=t=>JSON.stringify(t,null,4);function ze(t){const e=t.slice(),n=e[10](e[0]);e[24]=n;const l=e[12](e[11](e[0].key,e[24])).replaceAll(" ","&nbsp;").replaceAll(`
`,"<br />");return e[25]=l,e}function _e(t,e,n){const l=t.slice();return l[26]=e[n],l[28]=n,l}function he(t){let e,n=(t[26]||'""')+"",l,r,s,i,o;function f(){return t[15](t[28])}return{c(){e=k("button"),l=J(n),r=K(),v(e,"class","key svelte-151w811"),e.disabled=s=t[28]===t[0].key.length-1},m(a,h){j(a,e,h),b(e,l),b(e,r),i||(o=B(e,"click",f),i=!0)},p(a,h){t=a,h&1&&n!==(n=(t[26]||'""')+"")&&x(l,n),h&1&&s!==(s=t[28]===t[0].key.length-1)&&(e.disabled=s)},d(a){a&&N(e),i=!1,o()}}}function Ue(t){let e=t[0].type+"",n;return{c(){n=J(e)},m(l,r){j(l,n,r)},p(l,r){r&1&&e!==(e=l[0].type+"")&&x(n,e)},d(l){l&&N(n)}}}function Fe(t){let e,n,l,r,s,i,o,f,a,h,u,d,p,A,S;return{c(){e=k("select"),n=k("option"),l=J("string"),s=k("option"),i=J("number"),f=k("option"),a=J("boolean"),u=k("option"),d=J("object"),n.selected=r=t[5].type=="string",n.__value="string",n.value=n.__value,s.selected=o=t[5].type=="number",s.__value="number",s.value=s.__value,f.selected=h=t[5].type=="boolean",f.__value="boolean",f.value=f.__value,u.selected=p=t[5].type=="object",u.__value="object",u.value=u.__value,t[5].type===void 0&&Z(()=>t[16].call(e))},m(O,T){j(O,e,T),b(e,n),b(n,l),b(e,s),b(s,i),b(e,f),b(f,a),b(e,u),b(u,d),de(e,t[5].type,!0),A||(S=B(e,"change",t[16]),A=!0)},p(O,T){T&32&&r!==(r=O[5].type=="string")&&(n.selected=r),T&32&&o!==(o=O[5].type=="number")&&(s.selected=o),T&32&&h!==(h=O[5].type=="boolean")&&(f.selected=h),T&32&&p!==(p=O[5].type=="object")&&(u.selected=p),T&32&&de(e,O[5].type)},d(O){O&&N(e),A=!1,S()}}}function pe(t){let e,n,l,r;function s(a,h){return a[25]?Qe:Ge}let i=s(t),o=i(t);function f(){return t[21](t[24])}return{c(){e=k("div"),n=k("code"),o.c()},m(a,h){j(a,e,h),b(e,n),o.m(n,null),l||(r=B(e,"click",f),l=!0)},p(a,h){t=a,i===(i=s(t))&&o?o.p(t,h):(o.d(1),o=i(t),o&&(o.c(),o.m(n,null)))},d(a){a&&N(e),o.d(),l=!1,r()}}}function De(t){let e,n,l,r,s,i,o,f;function a(d,p){if(p&33&&(e=null),d[5].error)return Xe;if(e==null&&(e=d[5].type!=d[0].type||!d[9](d[5].value,d[0].value)),e)return We}let h=a(t,-1),u=h&&h(t);return{c(){u&&u.c(),n=K(),l=k("button"),l.textContent="‚ùå",r=K(),s=k("textarea"),v(l,"title","cancel"),v(l,"class","icon svelte-151w811"),v(s,"rows",i=t[6](t[5].content)),s.autofocus=!0,v(s,"class","svelte-151w811")},m(d,p){u&&u.m(d,p),j(d,n,p),j(d,l,p),j(d,r,p),j(d,s,p),ae(s,t[5].content),s.focus(),o||(f=[B(l,"click",t[18]),B(s,"input",t[19]),B(s,"keyup",t[20])],o=!0)},p(d,p){h===(h=a(d,p))&&u?u.p(d,p):(u&&u.d(1),u=h&&h(d),u&&(u.c(),u.m(n.parentNode,n))),p&32&&i!==(i=d[6](d[5].content))&&v(s,"rows",i),p&32&&ae(s,d[5].content)},d(d){u&&u.d(d),d&&N(n),d&&N(l),d&&N(r),d&&N(s),o=!1,V(f)}}}function Ge(t){let e;return{c(){e=k("i"),e.textContent="click to edit...",v(e,"class","svelte-151w811")},m(n,l){j(n,e,l)},p:P,d(n){n&&N(e)}}}function Qe(t){let e,n=t[25]+"",l;return{c(){e=new Ce(!1),l=Ae(),e.a=l},m(r,s){e.m(n,r,s),j(r,l,s)},p(r,s){s&1&&n!==(n=r[25]+"")&&e.p(n)},d(r){r&&N(l),r&&e.d()}}}function We(t){let e,n,l,r,s;return{c(){e=k("button"),n=J("üíæ"),v(e,"title","save"),v(e,"class","icon svelte-151w811"),e.disabled=l=!!t[5].error},m(i,o){j(i,e,o),b(e,n),r||(s=B(e,"click",t[17]),r=!0)},p(i,o){o&32&&l!==(l=!!i[5].error)&&(e.disabled=l)},d(i){i&&N(e),r=!1,s()}}}function Xe(t){let e,n=t[5].error+"",l;return{c(){e=k("mark"),l=J(n),v(e,"class","svelte-151w811")},m(r,s){j(r,e,s),b(e,l)},p(r,s){s&32&&n!==(n=r[5].error+"")&&x(l,n)},d(r){r&&N(e)}}}function Ye(t){let e,n,l,r,s,i,o,f,a,h,u,d,p,A,S,O,T,g=t[0].key,y=[];for(let c=0;c<g.length;c+=1)y[c]=he(_e(t,g,c));function L(c,w){return c[4]?Fe:Ue}let q=L(t),C=q(t);function M(c,w){return c[4]?De:pe}function H(c,w){return w===pe?ze(c):c}let E=M(t),_=E(H(t,E));return{c(){e=k("tr"),n=k("td"),l=k("a"),r=k("button"),r.textContent="ü™£",i=K(),o=k("td"),f=k("input"),h=K(),u=k("td");for(let c=0;c<y.length;c+=1)y[c].c();d=K(),p=k("td"),C.c(),A=K(),S=k("td"),_.c(),v(r,"class","icon svelte-151w811"),v(r,"title","delete"),v(l,"id",s=t[7](t[0])),v(n,"class","svelte-151w811"),v(f,"type","checkbox"),f.__value=a=t[0].selected,f.value=f.__value,v(f,"class","svelte-151w811"),v(o,"class","svelte-151w811"),v(u,"class","key svelte-151w811"),F(u,"added",t[0].added),F(u,"updated",t[0].updated),v(p,"class","svelte-151w811"),v(S,"class","svelte-151w811"),v(e,"class","svelte-151w811"),F(e,"highlighted",t[0].highlighted)},m(c,w){j(c,e,w),b(e,n),b(n,l),b(l,r),b(e,i),b(e,o),b(o,f),f.checked=t[0].selected,b(e,h),b(e,u);for(let m=0;m<y.length;m+=1)y[m]&&y[m].m(u,null);b(e,d),b(e,p),C.m(p,null),b(e,A),b(e,S),_.m(S,null),O||(T=[B(r,"click",t[13]),B(f,"change",t[14])],O=!0)},p(c,[w]){if(w&1&&s!==(s=c[7](c[0]))&&v(l,"id",s),w&1&&a!==(a=c[0].selected)&&(f.__value=a,f.value=f.__value),w&1&&(f.checked=c[0].selected),w&9){g=c[0].key;let m;for(m=0;m<g.length;m+=1){const z=_e(c,g,m);y[m]?y[m].p(z,w):(y[m]=he(z),y[m].c(),y[m].m(u,null))}for(;m<y.length;m+=1)y[m].d(1);y.length=g.length}w&1&&F(u,"added",c[0].added),w&1&&F(u,"updated",c[0].updated),q===(q=L(c))&&C?C.p(c,w):(C.d(1),C=q(c),C&&(C.c(),C.m(p,null))),E===(E=M(c))&&_?_.p(H(c,E),w):(_.d(1),_=E(H(c,E)),_&&(_.c(),_.m(S,null))),w&1&&F(e,"highlighted",c[0].highlighted)},i:P,o:P,d(c){c&&N(e),ye(y,c),C.d(),_.d(),O=!1,V(T)}}}function Ze(t,e,n){let{row:l}=e,{remove:r}=e,{put:s}=e,{refresh:i}=e,o=!1;const f=_=>{if(!_)return 0;const c=Math.max(1,_.split(`
`).length),w=_.split(`
`).filter(m=>m.length>100).map(m=>m.length/100).reduce((m,z)=>m+z,0)+1;return Math.max(c,w)},a=_=>_.key.join("@");function h(){if(n(5,u.error="",u),u.type=="string")n(5,u.value=u.content,u);else try{n(5,u.value=JSON.parse(u.content),u)}catch(_){n(5,u.error=_.message,u),console.log("error",_.message)}}const u={type:"string",value:void 0,content:""},d=(_,c)=>JSON.stringify(_)===JSON.stringify(c),p=_=>_.type=="string"?_.value:Ne(_.value),A=(_,c)=>c?(_.at(-1).includes("PATH")&&(c=c.replaceAll(":",`
`)),c.split(`
`).length<10?c:c.slice(0,200)+`
...`):"",S=document.createElement("textarea");function O(_){return S.textContent=_,S.innerHTML}const T=()=>r(l.key);function g(){l.selected=this.checked,n(0,l)}const y=_=>i(l.key.slice(0,+_+1));function L(){u.type=Te(this),n(5,u)}const q=async()=>{h(),n(0,l.value=u.value,l);try{console.log("put",l.key,l.value),await s(l.key,l.value),n(0,l.updated=!0,l)}catch(_){n(5,u.error=_.message,u);return}n(4,o=!1)},C=()=>n(4,o=!1);function M(){u.content=this.value,n(5,u)}const H=_=>{_.key==="Escape"?n(4,o=!1):h()},E=_=>{n(5,u.content=_,u),n(5,u.type=l.type,u),n(4,o=!0)};return t.$$set=_=>{"row"in _&&n(0,l=_.row),"remove"in _&&n(1,r=_.remove),"put"in _&&n(2,s=_.put),"refresh"in _&&n(3,i=_.refresh)},[l,r,s,i,o,u,f,a,h,d,p,A,O,T,g,y,L,q,C,M,H,E]}class $e extends le{constructor(e){super(),ne(this,e,Ze,Ye,$,{row:0,remove:1,put:2,refresh:3})}}function me(t,e,n){const l=t.slice();return l[15]=e[n],l[16]=e,l[17]=n,l}function xe(t){let e,n,l,r,s;return{c(){e=k("button"),n=J("‚ûï"),v(e,"class","icon svelte-10fld0m"),v(e,"title",l="delete "+(t[6]?`${t[6]} `:"")+"item"+(t[6]===1?" ":"s"))},m(i,o){j(i,e,o),b(e,n),r||(s=B(e,"click",t[11]),r=!0)},p(i,o){o&64&&l!==(l="delete "+(i[6]?`${i[6]} `:"")+"item"+(i[6]===1?" ":"s"))&&v(e,"title",l)},d(i){i&&N(e),r=!1,s()}}}function et(t){let e,n,l,r,s,i;return{c(){e=k("button"),n=J("ü™£"),v(e,"class","icon svelte-10fld0m"),v(e,"title",l="delete "+(t[6]?`${t[6]} `:"")+"item"+(t[6]===1?" ":"s")),e.disabled=r=t[6]<1},m(o,f){j(o,e,f),b(e,n),s||(i=B(e,"click",t[10]),s=!0)},p(o,f){f&64&&l!==(l="delete "+(o[6]?`${o[6]} `:"")+"item"+(o[6]===1?" ":"s"))&&v(e,"title",l),f&64&&r!==(r=o[6]<1)&&(e.disabled=r)},d(o){o&&N(e),s=!1,i()}}}function tt(t){let e;return{c(){e=J("key")},m(n,l){j(n,e,l)},p:P,d(n){n&&N(e)}}}function nt(t){let e=t[1].join(" / ")+"",n,l,r,s,i;return{c(){n=J(e),l=K(),r=k("button"),r.textContent="‚ùå",v(r,"title","clear filter"),v(r,"class","svelte-10fld0m")},m(o,f){j(o,n,f),j(o,l,f),j(o,r,f),s||(i=B(r,"click",t[13]),s=!0)},p(o,f){f&2&&e!==(e=o[1].join(" / ")+"")&&x(n,e)},d(o){o&&N(n),o&&N(l),o&&N(r),s=!1,i()}}}function ge(t){let e,n,l;function r(i){t[14](i,t[15],t[16],t[17])}let s={remove:t[2],put:t[3],refresh:t[4]};return t[15]!==void 0&&(s.row=t[15]),e=new $e({props:s}),se.push(()=>Re(e,"row",r)),{c(){ce(e.$$.fragment)},m(i,o){ee(e,i,o),l=!0},p(i,o){t=i;const f={};o&4&&(f.remove=t[2]),o&8&&(f.put=t[3]),o&16&&(f.refresh=t[4]),!n&&o&1&&(n=!0,f.row=t[15],Ke(()=>n=!1)),e.$set(f)},i(i){l||(R(e.$$.fragment,i),l=!0)},o(i){W(e.$$.fragment,i),l=!1},d(i){te(e,i)}}}function lt(t){let e,n,l,r,s,i,o,f,a,h,u,d,p,A,S,O,T;function g(c,w){return c[6]>0?et:xe}let y=g(t),L=y(t);function q(c,w){return c[1].length?nt:tt}let C=q(t),M=C(t),H=t[0],E=[];for(let c=0;c<H.length;c+=1)E[c]=ge(me(t,H,c));const _=c=>W(E[c],1,1,()=>{E[c]=null});return{c(){e=k("table"),n=k("thead"),l=k("tr"),r=k("th"),L.c(),s=K(),i=k("th"),o=k("input"),f=K(),a=k("th"),M.c(),h=K(),u=k("th"),u.textContent="type",d=K(),p=k("th"),p.textContent="value",A=K();for(let c=0;c<E.length;c+=1)E[c].c();v(r,"class","svelte-10fld0m"),v(o,"type","checkbox"),v(i,"class","svelte-10fld0m"),v(a,"class","svelte-10fld0m"),v(u,"class","svelte-10fld0m"),v(p,"class","svelte-10fld0m"),v(n,"class","svelte-10fld0m"),v(e,"class","svelte-10fld0m")},m(c,w){j(c,e,w),b(e,n),b(n,l),b(l,r),L.m(r,null),b(l,s),b(l,i),b(i,o),o.checked=t[5],b(l,f),b(l,a),M.m(a,null),b(l,h),b(l,u),b(l,d),b(l,p),b(e,A);for(let m=0;m<E.length;m+=1)E[m]&&E[m].m(e,null);S=!0,O||(T=[B(o,"change",t[12]),B(o,"change",t[7])],O=!0)},p(c,[w]){if(y===(y=g(c))&&L?L.p(c,w):(L.d(1),L=y(c),L&&(L.c(),L.m(r,null))),w&32&&(o.checked=c[5]),C===(C=q(c))&&M?M.p(c,w):(M.d(1),M=C(c),M&&(M.c(),M.m(a,null))),w&29){H=c[0];let m;for(m=0;m<H.length;m+=1){const z=me(c,H,m);E[m]?(E[m].p(z,w),R(E[m],1)):(E[m]=ge(z),E[m].c(),R(E[m],1),E[m].m(e,null))}for(we(),m=H.length;m<E.length;m+=1)_(m);Ee()}},i(c){if(!S){for(let w=0;w<H.length;w+=1)R(E[w]);S=!0}},o(c){E=E.filter(Boolean);for(let w=0;w<E.length;w+=1)W(E[w]);S=!1},d(c){c&&N(e),L.d(),M.d(),ye(E,c),O=!1,V(T)}}}function rt(t,e,n){let l,{data:r}=e,{prefix:s}=e,{remove:i}=e,{put:o}=e,{refresh:f}=e,a=!1;function h(){r.forEach(g=>g.selected=a),n(0,r=[...r])}function u(g){r.find(y=>y.key.join("@")===g.join("@")).highlighted=!0,n(0,r=[...r])}function d(g){r.find(y=>y.key.join("@")===g.join("@")).added=!0,n(0,r=[...r])}function p(){const g=r.filter(y=>y.selected);g.length!==0&&confirm(`delete ${g.length} items?`)&&g.forEach(y=>i(y.key))}const A=async()=>{const g=prompt(`input the key to add
(either a string with spaces as separators or a JSON array)`).trim();if(g.length===0)return;let y=g.split(/\s+/);if(g[0]==="[")try{y=JSON.parse(g)}catch(L){alert(L.message);return}await o(y,""),window.location.href="#"+y.join("@"),u(y),d(y)};function S(){a=this.checked,n(5,a)}const O=()=>f([]);function T(g,y,L,q){L[q]=g,n(0,r)}return t.$$set=g=>{"data"in g&&n(0,r=g.data),"prefix"in g&&n(1,s=g.prefix),"remove"in g&&n(2,i=g.remove),"put"in g&&n(3,o=g.put),"refresh"in g&&n(4,f=g.refresh)},t.$$.update=()=>{t.$$.dirty&1&&n(6,l=r.filter(g=>g.selected).length)},[r,s,i,o,f,a,l,h,u,d,p,A,S,O,T]}class st extends le{constructor(e){super(),ne(this,e,rt,lt,$,{data:0,prefix:1,remove:2,put:3,refresh:4})}}function be(t){t[9]=t[10].database}function ot(t){return{c:P,m:P,p:P,d:P}}function it(t){be(t);let e=t[9]+"",n;return{c(){n=J(e)},m(l,r){j(l,n,r)},p(l,r){be(l)},d(l){l&&N(n)}}}function ut(t){return{c:P,m:P,p:P,d:P}}function ct(t){let e,n,l,r,s,i={ctx:t,current:null,token:null,hasCatch:!1,pending:ut,then:it,catch:ot,value:10};return qe(t[2](),i),r=new st({props:{data:t[0],prefix:t[1],remove:t[3],put:t[4],refresh:t[5]}}),{c(){e=k("header"),i.block.c(),n=K(),l=k("main"),ce(r.$$.fragment),v(e,"class","svelte-mol1mz"),v(l,"class","svelte-mol1mz")},m(o,f){j(o,e,f),i.block.m(e,i.anchor=null),i.mount=()=>e,i.anchor=null,j(o,n,f),j(o,l,f),ee(r,l,null),s=!0},p(o,[f]){t=o,Ie(i,t,f);const a={};f&1&&(a.data=t[0]),f&2&&(a.prefix=t[1]),r.$set(a)},i(o){s||(R(r.$$.fragment,o),s=!0)},o(o){W(r.$$.fragment,o),s=!1},d(o){o&&N(e),i.block.d(),i.token=null,i=null,o&&N(n),o&&N(l),te(r)}}}function ft(t,e,n){const l=d=>{const p=new URL(new URL(import.meta.url).origin);return p.pathname=d,p.toString()},r=async()=>await(await fetch(l("health"))).json(),s=(d,p)=>l(d)+"?"+p.map(A=>"prefix="+A).join("&"),i=async(d=[])=>await(await fetch(s("kv",d))).json(),o=async d=>{await fetch(s("kv",d),{method:"DELETE"}),await u(h)},f=async(d,p)=>{await fetch(s("kv",d),{method:"PUT",body:JSON.stringify(p)}),await u(h)};let a=[],h=[];const u=async d=>{n(1,h=d),n(0,a=[...(await i(h)).map(p=>({...p,content:Ne(p.value)}))])};return u(h),[a,h,r,o,f,u]}class at extends le{constructor(e){super(),ne(this,e,ft,ct,$,{})}}function dt(t){let e,n,l;return n=new at({}),{c(){e=k("main"),ce(n.$$.fragment)},m(r,s){j(r,e,s),ee(n,e,null),l=!0},p:P,i(r){l||(R(n.$$.fragment,r),l=!0)},o(r){W(n.$$.fragment,r),l=!1},d(r){r&&N(e),te(n)}}}class _t extends le{constructor(e){super(),ne(this,e,null,dt,$,{})}}new _t({target:document.getElementById("app")});
